"use strict";(self.webpackChunkCurrencyTracker=self.webpackChunkCurrencyTracker||[]).push([[22],{284:(n,e,t)=>{t.d(e,{O:()=>S});var r,i,o,u,a,c=t(6540),s=t(7075),l=t(8852),f=t(9830),d=t(7616),h=t(2043),m=t(1468),p=t(7528),y=t(9616),g=y.I4.div(r||(r=(0,p.A)(["\n  position: relative;\n  max-width: ",";\n\n  width: 100%;\n"])),(function(n){return n.theme.size.elementSize.s})),x=y.I4.p(i||(i=(0,p.A)(["\n  padding: ",";\n\n  font-size: ",";\n\n  color: ",";\n"])),(function(n){return n.theme.spacing.s}),(function(n){return n.theme.font.fontSizes.s}),(function(n){return n.theme.colors.primaryText})),v=y.I4.input(o||(o=(0,p.A)(["\n  width: 100%;\n  padding: ",";\n\n  border: 2px solid transparent;\n  border-radius: 5px;\n\n  font-size: ",";\n\n  background: ",";\n  color: ",";\n\n  &:focus {\n    border: 2px solid ",";\n  }\n"])),(function(n){return n.theme.spacing.s}),(function(n){return n.theme.font.fontSizes.s}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.primaryText}),(function(n){return n.theme.colors.activeLink})),b=y.I4.ul(u||(u=(0,p.A)(["\n  position: absolute;\n  z-index: 1;\n\n  width: 100%;\n  max-height: ",";\n  overflow-y: auto;\n\n  border-radius: 5px;\n\n  margin-top: ",";\n"])),(function(n){return n.theme.size.elementSize.xs}),(function(n){return n.theme.spacing.s})),C=y.I4.li(a||(a=(0,p.A)(["\n  padding: ",";\n\n  background-color: ",";\n  color: ",";\n\n  font-size: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  @media "," {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.spacing.s}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.primaryText}),(function(n){return n.theme.font.fontSizes.s}),(function(n){return n.theme.colors.activeLink}),(function(n){return n.theme.mediaQuery.mobile}),(function(n){return n.theme.font.fontSizes.xs})),A=t(4848),z=function(n){var e=n.excludedCurrency,t=n.defaultCurrency,r=function(n,e){var t=(0,c.useState)(""),r=(0,s.A)(t,2),i=r[0],o=r[1],u=(0,c.useState)(!1),a=(0,s.A)(u,2),p=a[0],y=a[1],g=(0,m.wA)(),x=(0,m.d4)(d.zK),v=(0,l.d)({value:i,delay:300}),b=(0,c.useRef)(null),C=function(){return y(!1)};return(0,f.j)({ref:b,handler:C}),(0,c.useEffect)((function(){g((0,h.yW)({searchItem:v,excludedCurrency:n}))}),[v,n,g]),{searchText:i,setSearchText:o,isDropdown:p,filteredCurrencies:x,handleTextChange:function(n){o(n.target.value),p||y(!0)},handleCurrencySelect:function(n){return function(){o(n.name),C(),e(n.asset_id)}},handleDropdownOpen:function(){return y(!0)},dropdownRef:b}}(e,n.onCurrencyChange),i=r.searchText,o=r.setSearchText,u=r.isDropdown,a=r.filteredCurrencies,p=r.handleTextChange,y=r.handleCurrencySelect,z=r.handleDropdownOpen,S=r.dropdownRef;return(0,c.useEffect)((function(){t&&o(t)}),[t,o]),(0,A.jsxs)(g,{children:[(0,A.jsx)(x,{children:"Currency:"}),(0,A.jsx)(v,{"data-testid":"currency-select-input",type:"text",placeholder:"Choose currency",value:i,onChange:p,onFocus:z}),(0,A.jsx)(b,{ref:S,"data-testid":"currency-select-list",children:u&&a.map((function(n){return(0,A.jsx)(C,{onClick:y(n),children:n.name},n.asset_id)}))})]})},S=(0,c.memo)(z)},5874:(n,e,t)=>{t.d(e,{y:()=>m});var r,i,o,u=t(6540),a=t(961),c=t(7528),s=t(9616),l=(0,s.i7)(r||(r=(0,c.A)(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),f=(0,s.i7)(i||(i=(0,c.A)(["\n  from { opacity: 1; transform: translateY(0); }\n  to { opacity: 0; transform: translateY(20px); }\n"]))),d=s.I4.div(o||(o=(0,c.A)(["\n  position: fixed;\n  top: ",";\n  right: ",";\n\n  padding: ",";\n\n  background-color: ",";\n\n  color: ",";\n  font-size: ",";\n\n  border-radius: 5px;\n\n  z-index: 2;\n  animation: "," 0.3s forwards;\n\n  @media "," {\n    right: ",";\n  }\n"])),(function(n){return n.theme.spacing.l}),(function(n){return n.theme.spacing.l}),(function(n){return n.theme.spacing.xl}),(function(n){return n.theme.colors.toastBackground}),(function(n){return n.theme.colors.toastText}),(function(n){return n.theme.font.fontSizes.s}),(function(n){return n.isVisible?l:f}),(function(n){return n.theme.mediaQuery.tablet}),(function(n){return n.theme.spacing.s})),h=t(4848),m=function(n){var e=n.message,t=n.duration,r=void 0===t?3e3:t,i=n.onClose;return(0,u.useEffect)((function(){var n=setTimeout(i,r);return function(){return clearTimeout(n)}}),[r,i]),(0,a.createPortal)((0,h.jsx)(d,{"data-testid":"toast-message",isVisible:!0,children:e}),document.body)}},8673:(n,e,t)=>{t.d(e,{z:()=>v});var r,i,o,u,a,c=t(6656),s="Modsen Currency Tracker",l="Quotes for the dollar and other international currencies.",f=t(7528),d=t(9616),h=d.I4.section(r||(r=(0,f.A)(["\n  margin: "," 0;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  background: ",";\n\n  padding: ",";\n\n  border-radius: 15px;\n\n  @media "," {\n    flex-direction: column;\n  }\n"])),(function(n){return n.theme.spacing.xl}),(function(n){return n.theme.colors.gradientBackground}),(function(n){return n.theme.spacing.xl}),(function(n){return n.theme.mediaQuery.tablet})),m=d.I4.div(i||(i=(0,f.A)(["\n  text-align: end;\n\n  max-width: ",";\n  width: 100%;\n\n  display: flex;\n  flex-direction: column;\n\n  margin-right: ",";\n\n  @media "," {\n    text-align: center;\n    margin: 0;\n  }\n"])),(function(n){return n.theme.size.elementSize.l}),(function(n){return n.theme.spacing["3xl"]}),(function(n){return n.theme.mediaQuery.tablet})),p=d.I4.h1(o||(o=(0,f.A)(["\n  font-size: ",";\n  font-weight: ",";\n\n  background: ",";\n\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n\n  @media "," {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.font.fontSizes["3xl"]}),(function(n){return n.theme.font.fontWeights.bold}),(function(n){return n.theme.colors.gradientText}),(function(n){return n.theme.mediaQuery.tablet}),(function(n){return n.theme.font.fontSizes["2xl"]})),y=d.I4.h3(u||(u=(0,f.A)(["\n  font-size: ",";\n  font-weight: ",";\n\n  color: ",";\n\n  @media "," {\n    margin: "," 0;\n  }\n"])),(function(n){return n.theme.font.fontSizes.l}),(function(n){return n.theme.font.fontWeights.normal}),(function(n){return n.theme.colors.primaryText}),(function(n){return n.theme.mediaQuery.tablet}),(function(n){return n.theme.spacing.l})),g=d.I4.img(a||(a=(0,f.A)(["\n  width: ",";\n  height: ",";\n\n  @media "," {\n    width: ",";\n    height: ",";\n  }\n"])),(function(n){return n.theme.size.imageSize["3xl"]}),(function(n){return n.theme.size.imageSize["3xl"]}),(function(n){return n.theme.mediaQuery.tablet}),(function(n){return n.theme.size.imageSize["2xl"]}),(function(n){return n.theme.size.imageSize["2xl"]})),x=t(4848),v=function(){return(0,x.jsxs)(h,{children:[(0,x.jsxs)(m,{children:[(0,x.jsx)(p,{children:s}),(0,x.jsx)(y,{children:l})]}),(0,x.jsx)(g,{src:c})]})}},2257:(n,e,t)=>{t.d(e,{H:()=>b});var r=t(7075),i=t(6540),o=t(8852);function u(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return a(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return u=n.done,n},e:function(n){c=!0,o=n},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw o}}}}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var c,s,l,f,d=t(7528),h=t(9616),m=h.I4.div(c||(c=(0,d.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  max-width: ",";\n  width: 100%;\n"])),(function(n){return n.theme.size.elementSize.s})),p=h.I4.input(s||(s=(0,d.A)(["\n  width: 100%;\n  padding: ",";\n\n  border: 2px solid transparent;\n  border-radius: 5px;\n\n  font-size: ",";\n  background: ",";\n  color: ",";\n\n  &:focus {\n    border: 2px solid ",";\n  }\n"])),(function(n){return n.theme.spacing.s}),(function(n){return n.theme.font.fontSizes.s}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.primaryText}),(function(n){return n.theme.colors.activeLink})),y=h.I4.p(l||(l=(0,d.A)(["\n  color: ",";\n  font-size: ",";\n  padding: ",";\n"])),(function(n){return n.theme.colors.errorText}),(function(n){return n.theme.font.fontSizes.s}),(function(n){return n.theme.spacing.s})),g=h.I4.p(f||(f=(0,d.A)(["\n  color: ",";\n  font-size: ",";\n  padding: ",";\n"])),(function(n){return n.theme.colors.primaryText}),(function(n){return n.theme.font.fontSizes.s}),(function(n){return n.theme.spacing.s})),x=t(4848),v=function(n){var e=n.value,t=n.onValueChange,a=n.validationRules,c=void 0===a?[]:a,s=n.maxLength,l=void 0===s?10:s,f=n.debounceDelay,d=void 0===f?300:f,h=n.placeholder,v=void 0===h?"":h,b=n.subscription,C=void 0===b?"":b,A=(0,i.useState)(e),z=(0,r.A)(A,2),S=z[0],w=z[1],k=(0,o.d)({value:S,delay:d}),T=function(n,e){var t=(0,i.useState)(null),o=(0,r.A)(t,2),a=o[0],c=o[1];return(0,i.useEffect)((function(){var t,r=u(e);try{for(r.s();!(t=r.n()).done;){var i=(0,t.value)(n);if(i)return void c(i)}}catch(n){r.e(n)}finally{r.f()}c(null)}),[n,e]),a}(k,c),j=(0,i.useCallback)((function(n){var e=n.target.value;e.length<=l&&w(e)}),[l]);return(0,i.useEffect)((function(){null===T&&t(k)}),[k,T,t]),(0,x.jsxs)(m,{children:[T?(0,x.jsx)(y,{children:T}):(0,x.jsx)(g,{children:C}),(0,x.jsx)(p,{"data-testid":"validated-input",type:"text",value:S,onChange:j,maxLength:l,placeholder:v})]})},b=(0,i.memo)(v)},8852:(n,e,t)=>{t.d(e,{d:()=>o});var r=t(7075),i=t(6540),o=function(n){var e=n.value,t=n.delay,o=(0,i.useState)(e),u=(0,r.A)(o,2),a=u[0],c=u[1];return(0,i.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),a}},8022:(n,e,t)=>{t.r(e),t.d(e,{Timeline:()=>B});var r,i,o=t(5410),u=t(2901),a=t(388),c=t(3954),s=t(5361),l=t(4467),f=t(6540),d=t(6539),h=t(2262),m=t(4731),p=t(1726),y=t(7528),g=t(9616),x=g.I4.div(r||(r=(0,y.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  height: ",";\n\n  width: ",";\n  width: 100%;\n\n  position: relative;\n\n  canvas {\n    position: absolute;\n    overflow: auto;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media "," {\n    height: ",";\n  }\n\n  @media "," {\n    height: ",";\n  }\n"])),(function(n){return n.theme.size.elementSize.l}),(function(n){return n.theme.size.elementSize.l}),(function(n){return n.theme.mediaQuery.tablet}),(function(n){return n.theme.size.elementSize.m}),(function(n){return n.theme.mediaQuery.tablet}),(function(n){return n.theme.size.elementSize.s})),v=(g.I4.div(i||(i=(0,y.A)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  @media "," {\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.colors.primaryText}),(function(n){return n.theme.font.fontSizes.m}),(function(n){return n.theme.font.fontWeights.bold}),(function(n){return n.theme.mediaQuery.mobile}),(function(n){return n.theme.font.fontSizes.xs})),t(4848));h.t1.register(h.PP,h.kc,h.E8,h.hE,h.m_,h.s$);var b,C,A=function(n){var e=n.data,t=n.currencyTitle,r=n.isLoading,i=n.error,o=n.onChartComplete,u=(0,f.useRef)(!1),a=(0,f.useContext)(d.D).theme,c=function(n,e){return{labels:n.map((function(n){return new Date(n.time_open).toLocaleDateString()})),datasets:[{data:n.map((function(n){return n.rate_close})),backgroundColor:n.map((function(t,r){return r>0&&t.rate_close<n[r-1].rate_close?e.colors.chartPositive:e.colors.chartNegative}))}]}}(e,a),s=function(n,e){return{responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Price $",color:e.colors.primaryText,font:{size:14}},ticks:{display:!0,color:e.colors.primaryText,font:{size:12}},beginAtZero:!1},x:{title:{display:!0,text:"Day",color:e.colors.primaryText,font:{size:14}},ticks:{display:!1}}},plugins:{tooltip:{callbacks:{label:function(n){return"Price ".concat(n.raw," $")}}},legend:{display:!1},title:{text:n,display:!0,color:e.colors.primaryText,font:{size:16}}}}}(t,a);return(0,f.useEffect)((function(){e.length>0&&(u.current=!1)}),[e]),(0,f.useEffect)((function(){!r&&e.length>0&&!u.current&&(o(),u.current=!0)}),[r,e.length,o]),r?(0,v.jsx)(x,{children:(0,v.jsx)(p.v,{})}):i?(0,v.jsx)(x,{children:(0,v.jsx)("p",{children:i})}):(0,v.jsx)(x,{"data-testid":"currency-bar-chart",children:(0,v.jsx)(m.yP,{data:c,options:s})})},z=t(284),S=t(5874),w=t(2257),k=t(3130),T=new(function(){return(0,u.A)((function n(){(0,o.A)(this,n),(0,l.A)(this,"observers",[])}),[{key:"subscribe",value:function(n){this.observers.push(n)}},{key:"unsubscribe",value:function(n){this.observers=this.observers.filter((function(e){return e!==n}))}},{key:"notify",value:function(){this.observers.forEach((function(n){return n()}))}}])}()),j=t(6706),D=t(1468),I=3,E=500,L="Enter days:",Q=g.I4.section(b||(b=(0,y.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin-bottom: ",";\n"])),(function(n){return n.theme.spacing.xl})),H=g.I4.div(C||(C=(0,y.A)(["\n  display: flex;\n  align-items: center;\n  gap: ",";\n  background-color: ",";\n\n  padding: ",";\n  margin: "," 0;\n\n  border-radius: 5px;\n\n  max-width: ",";\n  width: 100%;\n\n  @media "," {\n    flex-direction: column;\n  }\n"])),(function(n){return n.theme.spacing.l}),(function(n){return n.theme.colors.wrapperBackground}),(function(n){return n.theme.spacing.xl}),(function(n){return n.theme.spacing["3xl"]}),(function(n){return n.theme.size.elementSize.xl}),(function(n){return n.theme.mediaQuery.tablet}));function R(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(R=function(){return!!n})()}var O=function(n){function e(){var n,t,r,i;(0,o.A)(this,e);for(var u=arguments.length,s=new Array(u),f=0;f<u;f++)s[f]=arguments[f];return t=this,r=e,i=[].concat(s),r=(0,c.A)(r),n=(0,a.A)(t,R()?Reflect.construct(r,i||[],(0,c.A)(t).constructor):r.apply(t,i)),(0,l.A)(n,"state",{showToast:!1}),(0,l.A)(n,"fetchInitialData",(function(){var e=n.props,t=e.data,r=e.selectedCurrency,i=e.daysAmount;!t.length&&r&&i&&n.fetchChartData(r,i)})),(0,l.A)(n,"checkForDataUpdates",(function(e){var t=n.props,r=t.selectedCurrency,i=t.daysAmount;r===e.selectedCurrency&&i===e.daysAmount||n.fetchChartData(r,i)})),(0,l.A)(n,"handleCurrencyChange",(function(e){n.props.setSelectedCurrency(e)})),(0,l.A)(n,"handleAmountChange",(function(e){n.props.setDaysAmount(e)})),(0,l.A)(n,"handleChartComplete",(function(){n.setState({showToast:!0})})),(0,l.A)(n,"handleToastClose",(function(){n.setState({showToast:!1})})),(0,l.A)(n,"fetchChartData",(function(e,t){if(e&&t){var r=parseInt(t,10);if(!(isNaN(r)||r<=0)){var i=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,t=new Date,r=new Date(t);return n>e&&(n=e),r.setDate(t.getDate()-n),{startDateString:r.toISOString(),endDateString:t.toISOString()}}(r,100),o=i.startDateString,u=i.endDateString;n.props.fetchCurrencyHistoryThunk({currency:e,startDate:o,endDate:u})}}})),n}return(0,s.A)(e,n),(0,u.A)(e,[{key:"componentDidMount",value:function(){this.fetchInitialData(),T.subscribe(this.handleChartComplete)}},{key:"componentDidUpdate",value:function(n){this.checkForDataUpdates(n)}},{key:"componentWillUnmount",value:function(){T.unsubscribe(this.handleChartComplete)}},{key:"render",value:function(){var n=this.props,e=n.data,t=n.isLoading,r=n.error,i=n.selectedCurrency,o=n.daysAmount,u=this.state.showToast;return(0,v.jsxs)(Q,{children:[(0,v.jsxs)(H,{children:[(0,v.jsx)(z.O,{excludedCurrency:"",defaultCurrency:i,onCurrencyChange:this.handleCurrencyChange}),(0,v.jsx)(w.H,{value:o,onValueChange:this.handleAmountChange,validationRules:[j.r,j.U],maxLength:I,debounceDelay:E,subscription:L})]}),e.length>0&&i&&o&&(0,v.jsx)(A,{data:e,currencyTitle:i,isLoading:t,error:r,onChartComplete:this.handleChartComplete}),u&&(0,v.jsx)(S.y,{message:"Graph has been successfully created",onClose:this.handleToastClose})]})}}])}(f.Component);const P=(0,D.Ng)((function(n){return{data:n.currencyHistory.data,isLoading:n.currencyHistory.isLoading,error:n.currencyHistory.error,selectedCurrency:n.currencyHistory.selectedCurrency,daysAmount:n.currencyHistory.daysAmount}}),(function(n){return{fetchCurrencyHistoryThunk:function(e){return n((0,k.ov)(e))},setSelectedCurrency:function(e){return n((0,k.$f)(e))},setDaysAmount:function(e){return n((0,k.au)(e))}}}))(O);var U,_=t(8673),$=g.I4.div(U||(U=(0,y.A)(["\n  display: flex;\n  flex-direction: column;\n"]))),B=function(){return(0,v.jsxs)($,{"data-testid":"timeline-page",children:[(0,v.jsx)(_.z,{}),(0,v.jsx)(P,{})]})}},6706:(n,e,t)=>{t.d(e,{U:()=>a,r:()=>u});var r={onlyDigits:/^\d+$/},i="Invalid characters",o="Value over maximum",u=function(n){return c(n)||r.onlyDigits.test(n)?null:i},a=function(n){if(c(n))return null;return parseInt(n,10)<=100?null:o},c=function(n){return""===n.trim()}}}]);
//# sourceMappingURL=22_87902a8c3e1f970a9625.js.map