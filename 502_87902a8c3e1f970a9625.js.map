{"version":3,"file":"502_87902a8c3e1f970a9625.js","mappings":"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","sources":["webpack://CurrencyTracker/./src/components/CurrencySearch/styled.ts","webpack://CurrencyTracker/./src/components/CurrencySearch/index.tsx","webpack://CurrencyTracker/./src/hooks/useCurrencySearch.ts","webpack://CurrencyTracker/./src/components/CurrencySearch/config.ts","webpack://CurrencyTracker/./src/components/PageHeader/config.ts","webpack://CurrencyTracker/./src/components/PageHeader/styled.ts","webpack://CurrencyTracker/./src/components/PageHeader/index.tsx","webpack://CurrencyTracker/./src/hooks/useDebounce.ts","webpack://CurrencyTracker/./src/components/UI/Map/CustomMarker/styled.ts","webpack://CurrencyTracker/./src/components/UI/Map/CustomMarker/index.tsx","webpack://CurrencyTracker/./src/components/UI/Map/CustomPopup/styled.ts","webpack://CurrencyTracker/./src/components/UI/Map/CustomPopup/index.tsx","webpack://CurrencyTracker/./src/store/selectors/banksSelector.ts","webpack://CurrencyTracker/./src/components/BanksMap/config.ts","webpack://CurrencyTracker/./src/components/BanksMap/styled.ts","webpack://CurrencyTracker/./src/components/BanksMap/index.tsx","webpack://CurrencyTracker/./src/utils/getUserLocation.ts","webpack://CurrencyTracker/./src/pages/BankCard/styled.ts","webpack://CurrencyTracker/./src/pages/BankCard/index.tsx"],"sourcesContent":["import { styled } from 'styled-components';\r\n\r\nexport const InputContainer = styled.div`\r\n  position: relative;\r\n  max-width: ${({ theme }) => theme.size.elementSize.s};\r\n\r\n  width: 100%;\r\n`;\r\n\r\nexport const Subscription = styled.p`\r\n  padding: ${({ theme }) => theme.spacing.s};\r\n\r\n  font-size: ${({ theme }) => theme.font.fontSizes.s};\r\n\r\n  color: ${({ theme }) => theme.colors.primaryText};\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  padding: ${({ theme }) => theme.spacing.s};\r\n\r\n  border: 2px solid transparent;\r\n  border-radius: 5px;\r\n\r\n  font-size: ${({ theme }) => theme.font.fontSizes.s};\r\n\r\n  background: ${({ theme }) => theme.colors.background};\r\n  color: ${({ theme }) => theme.colors.primaryText};\r\n\r\n  &:focus {\r\n    border: 2px solid ${({ theme }) => theme.colors.activeLink};\r\n  }\r\n`;\r\n\r\nexport const Dropdown = styled.ul`\r\n  position: absolute;\r\n  z-index: 1;\r\n\r\n  width: 100%;\r\n  max-height: ${({ theme }) => theme.size.elementSize.xs};\r\n  overflow-y: auto;\r\n\r\n  border-radius: 5px;\r\n\r\n  margin-top: ${({ theme }) => theme.spacing.s};\r\n`;\r\n\r\nexport const DropdownItem = styled.li`\r\n  padding: ${({ theme }) => theme.spacing.s};\r\n\r\n  background-color: ${({ theme }) => theme.colors.background};\r\n  color: ${({ theme }) => theme.colors.primaryText};\r\n\r\n  font-size: ${({ theme }) => theme.font.fontSizes.s};\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.colors.activeLink};\r\n  }\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.mobile} {\r\n    font-size: ${({ theme }) => theme.font.fontSizes.xs};\r\n  }\r\n`;\r\n","import { memo, useEffect } from 'react';\r\nimport { useCurrencySearch } from '@hooks/useCurrencySearch';\r\n\r\nimport { inputSubscription, placeholder } from './config';\r\nimport {\r\n  Dropdown,\r\n  DropdownItem,\r\n  Input,\r\n  InputContainer,\r\n  Subscription,\r\n} from './styled';\r\nimport { CurrencySearchProps } from './types';\r\n\r\nconst CurrencySearch = (props: CurrencySearchProps) => {\r\n  const { excludedCurrency, defaultCurrency, onCurrencyChange } = props;\r\n\r\n  const {\r\n    searchText,\r\n    setSearchText,\r\n    isDropdown,\r\n    filteredCurrencies,\r\n    handleTextChange,\r\n    handleCurrencySelect,\r\n    handleDropdownOpen,\r\n    dropdownRef,\r\n  } = useCurrencySearch(excludedCurrency, onCurrencyChange);\r\n\r\n  useEffect(() => {\r\n    if (defaultCurrency) {\r\n      setSearchText(defaultCurrency);\r\n    }\r\n  }, [defaultCurrency, setSearchText]);\r\n\r\n  return (\r\n    <InputContainer>\r\n      <Subscription>{inputSubscription}</Subscription>\r\n      <Input\r\n        data-testid=\"currency-select-input\"\r\n        type=\"text\"\r\n        placeholder={placeholder}\r\n        value={searchText}\r\n        onChange={handleTextChange}\r\n        onFocus={handleDropdownOpen}\r\n      />\r\n      <Dropdown ref={dropdownRef} data-testid=\"currency-select-list\">\r\n        {isDropdown &&\r\n          filteredCurrencies.map((currency) => (\r\n            <DropdownItem\r\n              key={currency.asset_id}\r\n              onClick={handleCurrencySelect(currency)}\r\n            >\r\n              {currency.name}\r\n            </DropdownItem>\r\n          ))}\r\n      </Dropdown>\r\n    </InputContainer>\r\n  );\r\n};\r\n\r\nexport const MemoizedCurrencySearch = memo(CurrencySearch);\r\n","import { ChangeEvent, useEffect, useRef, useState } from 'react';\r\nimport { useDebounce } from '@hooks/useDebounce';\r\nimport { useOutsideClick } from '@hooks/useOutsideClick';\r\nimport { selectFilterResultState } from '@store/selectors/currencySelector';\r\nimport { filterCurrencies } from '@store/slices/currencySlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { Currency } from '@/types/financial';\r\n\r\nexport const useCurrencySearch = (\r\n  excludedCurrency: string,\r\n  onCurrencyChange: (currencyId: string) => void,\r\n) => {\r\n  const [searchText, setSearchText] = useState<string>('');\r\n  const [isDropdown, setIsDropdown] = useState<boolean>(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const filteredCurrencies = useSelector(selectFilterResultState);\r\n\r\n  const searchItem = useDebounce({ value: searchText, delay: 300 });\r\n  const dropdownRef = useRef<HTMLUListElement | null>(null);\r\n\r\n  const handleTextChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setSearchText(event.target.value);\r\n    if (!isDropdown) {\r\n      setIsDropdown(true);\r\n    }\r\n  };\r\n\r\n  const handleDropdownClose = () => setIsDropdown(false);\r\n  const handleDropdownOpen = () => setIsDropdown(true);\r\n\r\n  const handleCurrencySelect = (currency: Currency) => () => {\r\n    setSearchText(currency.name);\r\n    handleDropdownClose();\r\n    onCurrencyChange(currency.asset_id);\r\n  };\r\n\r\n  useOutsideClick({\r\n    ref: dropdownRef,\r\n    handler: handleDropdownClose,\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(filterCurrencies({ searchItem, excludedCurrency }));\r\n  }, [searchItem, excludedCurrency, dispatch]);\r\n\r\n  return {\r\n    searchText,\r\n    setSearchText,\r\n    isDropdown,\r\n    filteredCurrencies,\r\n    handleTextChange,\r\n    handleCurrencySelect,\r\n    handleDropdownOpen,\r\n    dropdownRef,\r\n  };\r\n};\r\n","export const inputSubscription = 'Currency:';\r\nexport const placeholder = 'Choose currency';\r\n","export const pageHeaderData = {\r\n  title: 'Modsen Currency Tracker',\r\n  subtitle: 'Quotes for the dollar and other international currencies.',\r\n};\r\n","import { styled } from 'styled-components';\r\n\r\nexport const Container = styled.section`\r\n  margin: ${({ theme }) => theme.spacing.xl} 0;\r\n\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  background: ${({ theme }) => theme.colors.gradientBackground};\r\n\r\n  padding: ${({ theme }) => theme.spacing.xl};\r\n\r\n  border-radius: 15px;\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const TitleContainer = styled.div`\r\n  text-align: end;\r\n\r\n  max-width: ${({ theme }) => theme.size.elementSize.l};\r\n  width: 100%;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  margin-right: ${({ theme }) => theme.spacing['3xl']};\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\r\n    text-align: center;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: ${({ theme }) => theme.font.fontSizes['3xl']};\r\n  font-weight: ${({ theme }) => theme.font.fontWeights.bold};\r\n\r\n  background: ${({ theme }) => theme.colors.gradientText};\r\n\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\r\n    font-size: ${({ theme }) => theme.font.fontSizes['2xl']};\r\n  }\r\n`;\r\n\r\nexport const Subtitle = styled.h3`\r\n  font-size: ${({ theme }) => theme.font.fontSizes.l};\r\n  font-weight: ${({ theme }) => theme.font.fontWeights.normal};\r\n\r\n  color: ${({ theme }) => theme.colors.primaryText};\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\r\n    margin: ${({ theme }) => theme.spacing.l} 0;\r\n  }\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  width: ${({ theme }) => theme.size.imageSize['3xl']};\r\n  height: ${({ theme }) => theme.size.imageSize['3xl']};\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\r\n    width: ${({ theme }) => theme.size.imageSize['2xl']};\r\n    height: ${({ theme }) => theme.size.imageSize['2xl']};\r\n  }\r\n`;\r\n","import CurrencyTrackerLogo from '@images/CurrencyTrackerLogo.svg';\r\n\r\nimport { pageHeaderData } from './config';\r\nimport { Container, Image, Subtitle, Title, TitleContainer } from './styled';\r\n\r\nexport const PageHeader = () => {\r\n  return (\r\n    <Container>\r\n      <TitleContainer>\r\n        <Title>{pageHeaderData.title}</Title>\r\n        <Subtitle>{pageHeaderData.subtitle}</Subtitle>\r\n      </TitleContainer>\r\n      <Image src={CurrencyTrackerLogo} />\r\n    </Container>\r\n  );\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { UseDebounceProps } from '@/types/hooks';\r\n\r\nexport const useDebounce = <T>({ value, delay }: UseDebounceProps<T>): T => {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const debounceId = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => clearTimeout(debounceId);\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n};\r\n","import { styled } from 'styled-components';\r\n\r\nexport const MarkerImage = styled.img`\r\n  width: ${({ theme }) => theme.size.imageSize.xs};\r\n  height: ${({ theme }) => theme.size.imageSize.xs};\r\n`;\r\n","import { Marker } from 'react-map-gl';\r\n\r\nimport { MarkerImage } from './styled';\r\nimport { CustomMarkerProps } from './types';\r\n\r\nexport const CustomMarker = (props: CustomMarkerProps) => {\r\n  const { latitude, longitude, onClick, imageUrl } = props;\r\n  return (\r\n    <Marker latitude={latitude} longitude={longitude} onClick={onClick}>\r\n      <MarkerImage src={imageUrl} />\r\n    </Marker>\r\n  );\r\n};\r\n","import { styled } from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${({ theme }) => theme.spacing.l};\r\n  background-color: ${({ theme }) => theme.colors.cardBackground};\r\n  border-radius: 10px;\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.mobile} {\r\n    padding: ${({ theme }) => theme.spacing.s};\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: ${({ theme }) => theme.font.fontSizes.s};\r\n  font-weight: ${({ theme }) => theme.font.fontWeights.bold};\r\n  color: ${({ theme }) => theme.colors.primaryText};\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.mobile} {\r\n    font-size: ${({ theme }) => theme.font.fontSizes.xs};\r\n  }\r\n`;\r\n\r\nexport const Text = styled.p`\r\n  font-size: ${({ theme }) => theme.font.fontSizes.xs};\r\n  font-weight: ${({ theme }) => theme.font.fontWeights.normal};\r\n  color: ${({ theme }) => theme.colors.primaryText};\r\n`;\r\n","import { Popup } from 'react-map-gl';\r\n\r\nimport { Container, Text, Title } from './styled';\r\nimport { CustomPopupProps } from './types';\r\n\r\nexport const CustomPopup = ({ selectedBank, onClose }: CustomPopupProps) => {\r\n  const {\r\n    location: { lat, lng },\r\n    name,\r\n    address,\r\n    currencySupport,\r\n  } = selectedBank;\r\n  return (\r\n    <Popup\r\n      latitude={lat}\r\n      longitude={lng}\r\n      onClose={onClose}\r\n      closeButton={true}\r\n      closeOnClick={false}\r\n    >\r\n      <Container data-testid=\"popup\">\r\n        <Title>{name}</Title>\r\n        <Text>Address: {address}</Text>\r\n        <Text>Currencies: {currencySupport.join(', ')}</Text>\r\n      </Container>\r\n    </Popup>\r\n  );\r\n};\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nimport { RootState } from '@/store';\r\n\r\nexport const selectBanks = (state: RootState) => state.banks.banks;\r\nexport const selectSelectedCurrency = (state: RootState) =>\r\n  state.banks.selectedCurrency;\r\n\r\nexport const filterBanksByCurrencySelector = createSelector(\r\n  [selectBanks, selectSelectedCurrency],\r\n  (banks, selectedCurrency) => {\r\n    if (!selectedCurrency) return banks;\r\n    return banks.filter((bank) =>\r\n      bank.currencySupport.includes(selectedCurrency),\r\n    );\r\n  },\r\n);\r\n","export const mapConfig = {\r\n  initialLatitude: 0,\r\n  initialLongitude: 0,\r\n  initialZoom: 15,\r\n  mapStyle: 'mapbox://styles/mapbox/light-v11',\r\n  bearing: 0,\r\n  pitch: 0,\r\n  padding: { top: 0, left: 0, right: 0, bottom: 0 },\r\n};\r\n\r\nexport const searchRadius = 5000;\r\n\r\nexport const fixedCoordinates = {\r\n  fixedLatitude: 53.903937,\r\n  fixedLongitude: 27.561213,\r\n};\r\n\r\nexport const searchContainerSubscription = 'Search currency in the bank';\r\n\r\nexport const markerImages = {\r\n  user: 'https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png',\r\n  bank: 'https://docs.mapbox.com/help/demos/custom-markers-gl-js/mapbox-icon.png',\r\n};\r\n","import { keyframes, styled } from 'styled-components';\r\n\r\nconst spin = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nexport const LoaderWrapper = styled.div`\r\n  position: absolute;\r\n  right: -30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 24px;\r\n  height: 24px;\r\n`;\r\n\r\nexport const Loader = styled.div`\r\n  border: 3px solid ${({ theme }) => theme.colors.activeLink};\r\n  border-top: 3px solid ${({ theme }) => theme.colors.primaryText};\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  animation: ${spin} 0.8s linear infinite;\r\n`;\r\n\r\nexport const Container = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  margin-bottom: ${({ theme }) => theme.spacing.xl};\r\n`;\r\n\r\nexport const SearchContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  gap: ${({ theme }) => theme.spacing.l};\r\n  background-color: ${({ theme }) => theme.colors.wrapperBackground};\r\n  padding: ${({ theme }) => theme.spacing.m};\r\n  margin: ${({ theme }) => theme.spacing['3xl']} 0;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  max-width: ${({ theme }) => theme.size.elementSize.s};\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const MapWrapper = styled.div`\r\n  width: 100%;\r\n  height: ${({ theme }) => theme.size.elementSize.m};\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\r\n    height: ${({ theme }) => theme.size.elementSize.s};\r\n  }\r\n\r\n  @media ${({ theme }) => theme.mediaQuery.mobile} {\r\n    height: ${({ theme }) => theme.size.elementSize.xs};\r\n  }\r\n`;\r\n\r\nexport const Subscription = styled.h3`\r\n  font-size: ${({ theme }) => theme.font.fontSizes.xl};\r\n  font-weight: ${({ theme }) => theme.font.fontWeights.normal};\r\n  text-align: center;\r\n  text-transform: capitalize;\r\n\r\n  margin-top: ${({ theme }) => theme.spacing.xl};\r\n`;\r\n","import { Component } from 'react';\r\nimport { MemoizedCurrencySearch as CurrencySearch } from '@components/CurrencySearch';\r\nimport { CustomMarker } from '@components/UI/Map/CustomMarker';\r\nimport { CustomPopup } from '@components/UI/Map/CustomPopup';\r\nimport { API_CONFIG } from '@constants/config';\r\nimport { filterBanksByCurrencySelector } from '@store/selectors/banksSelector';\r\nimport { fetchBanksThunk, setSelectedCurrency } from '@store/slices/bankSlice';\r\nimport { getUserLocation } from '@utils/getUserLocation';\r\nimport ReactMapGL, { ViewStateChangeEvent } from 'react-map-gl';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { RootState } from '@/store';\r\n\r\nimport {\r\n  fixedCoordinates,\r\n  mapConfig,\r\n  markerImages,\r\n  searchContainerSubscription,\r\n  searchRadius,\r\n} from './config';\r\nimport {\r\n  Container,\r\n  Loader,\r\n  LoaderWrapper,\r\n  MapWrapper,\r\n  SearchContainer,\r\n  Subscription,\r\n} from './styled';\r\nimport { BanksMapProps, BanksMapState } from './types';\r\n\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\nconst { initialZoom, mapStyle, bearing, pitch, padding } = mapConfig;\r\nconst { fixedLatitude, fixedLongitude } = fixedCoordinates;\r\n\r\nclass BanksMap extends Component<BanksMapProps, BanksMapState> {\r\n  state: BanksMapState = {\r\n    viewport: {\r\n      latitude: fixedLatitude,\r\n      longitude: fixedLongitude,\r\n      zoom: initialZoom,\r\n      bearing,\r\n      pitch,\r\n      padding,\r\n    },\r\n    userLocation: { lat: fixedLatitude, lng: fixedLongitude },\r\n    searchRadius,\r\n    selectedBank: null,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const location = await getUserLocation();\r\n      this.setState({ userLocation: location }, () => {\r\n        this.fetchBanks();\r\n        this.centerMapOnUser();\r\n      });\r\n    } catch {\r\n      this.fetchBanks();\r\n      this.centerMapOnUser();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: BanksMapProps, prevState: BanksMapState) {\r\n    if (prevProps.selectedCurrency !== this.props.selectedCurrency) {\r\n      this.fetchBanks();\r\n    }\r\n\r\n    if (prevState.userLocation !== this.state.userLocation) {\r\n      this.fetchBanks();\r\n    }\r\n  }\r\n\r\n  fetchBanks = () => {\r\n    const { userLocation, searchRadius } = this.state;\r\n    this.props.fetchBanksThunk({\r\n      location: userLocation,\r\n      radius: searchRadius,\r\n    });\r\n  };\r\n\r\n  centerMapOnUser = () => {\r\n    const { lat: latitude, lng: longitude } = this.state.userLocation;\r\n    this.setState((prevState) => ({\r\n      viewport: { ...prevState.viewport, latitude, longitude },\r\n    }));\r\n  };\r\n\r\n  handleCurrencyChange = (currency: string | null) => {\r\n    this.props.setSelectedCurrency(currency);\r\n  };\r\n\r\n  handleMarkerClick = (bankId: string) => () => {\r\n    const selectedBank =\r\n      this.props.banks.find((bank) => bank.id === bankId) || null;\r\n    this.setState({ selectedBank });\r\n  };\r\n\r\n  handleViewportChange = (event: ViewStateChangeEvent) => {\r\n    const { latitude, longitude, zoom } = event.viewState;\r\n    this.setState((prevState) => ({\r\n      viewport: { ...prevState.viewport, latitude, longitude, zoom },\r\n    }));\r\n  };\r\n\r\n  closePopup = () => {\r\n    this.setState({ selectedBank: null });\r\n  };\r\n\r\n  render() {\r\n    const { viewport, userLocation, selectedBank } = this.state;\r\n    const { banks, isLoading } = this.props;\r\n    return (\r\n      <Container>\r\n        <Subscription>{searchContainerSubscription}</Subscription>\r\n        <SearchContainer>\r\n          <CurrencySearch\r\n            excludedCurrency=\"\"\r\n            defaultCurrency={this.props.selectedCurrency}\r\n            onCurrencyChange={this.handleCurrencyChange}\r\n          />\r\n          {isLoading && (\r\n            <LoaderWrapper>\r\n              <Loader />\r\n            </LoaderWrapper>\r\n          )}\r\n        </SearchContainer>\r\n\r\n        <MapWrapper>\r\n          <ReactMapGL\r\n            {...viewport}\r\n            mapboxAccessToken={API_CONFIG.MAPBOX_TOKEN}\r\n            onMove={this.handleViewportChange}\r\n            mapStyle={mapStyle}\r\n          >\r\n            {userLocation && (\r\n              <CustomMarker\r\n                latitude={userLocation.lat}\r\n                longitude={userLocation.lng}\r\n                imageUrl={markerImages.user}\r\n              />\r\n            )}\r\n\r\n            {banks.map(({ id, location: { lat, lng } }) => (\r\n              <CustomMarker\r\n                key={id}\r\n                latitude={lat}\r\n                longitude={lng}\r\n                onClick={this.handleMarkerClick(id)}\r\n                imageUrl={markerImages.bank}\r\n              />\r\n            ))}\r\n\r\n            {selectedBank && (\r\n              <CustomPopup\r\n                selectedBank={selectedBank}\r\n                onClose={this.closePopup}\r\n              />\r\n            )}\r\n          </ReactMapGL>\r\n        </MapWrapper>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n  banks: filterBanksByCurrencySelector(state),\r\n  selectedCurrency: state.banks.selectedCurrency,\r\n  isLoading: state.banks.isLoading,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  fetchBanksThunk: fetchBanksThunk,\r\n  setSelectedCurrency,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BanksMap);\r\n","export const getUserLocation = (): Promise<{ lat: number; lng: number }> => {\r\n  return new Promise((resolve, reject) => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          resolve({\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n          });\r\n        },\r\n        () => {\r\n          reject('Geolocation permission denied');\r\n        },\r\n      );\r\n    } else {\r\n      reject('Geolocation is not supported');\r\n    }\r\n  });\r\n};\r\n","import { styled } from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n","import BanksMap from '@components/BanksMap';\r\nimport { PageHeader } from '@components/PageHeader';\r\n\r\nimport { Container } from './styled';\r\n\r\nexport const BankCard = () => {\r\n  return (\r\n    <Container data-testid=\"bankcard-page\">\r\n      <PageHeader />\r\n      <BanksMap />\r\n    </Container>\r\n  );\r\n};\r\n"],"names":["InputContainer","styled","div","_templateObject","_taggedTemplateLiteral","_ref","theme","size","elementSize","s","Subscription","p","_templateObject2","_ref2","spacing","_ref3","font","fontSizes","_ref4","colors","primaryText","Input","input","_templateObject3","_ref5","_ref6","_ref7","background","_ref8","_ref9","activeLink","Dropdown","ul","_templateObject4","_ref10","xs","_ref11","DropdownItem","li","_templateObject5","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","mediaQuery","mobile","_ref18","CurrencySearch","props","excludedCurrency","defaultCurrency","_useCurrencySearch","onCurrencyChange","_useState","useState","_useState2","_slicedToArray","searchText","setSearchText","_useState3","_useState4","isDropdown","setIsDropdown","dispatch","useDispatch","filteredCurrencies","useSelector","selectFilterResultState","searchItem","useDebounce","value","delay","dropdownRef","useRef","handleDropdownClose","useOutsideClick","ref","handler","useEffect","filterCurrencies","handleTextChange","event","target","handleCurrencySelect","currency","name","asset_id","handleDropdownOpen","useCurrencySearch","_jsxs","children","_jsx","type","placeholder","onChange","onFocus","map","onClick","MemoizedCurrencySearch","memo","pageHeaderData","Container","section","xl","gradientBackground","tablet","TitleContainer","l","Title","h1","fontWeights","bold","gradientText","Subtitle","h3","normal","Image","img","imageSize","_ref19","_ref20","_ref21","_ref22","PageHeader","src","CurrencyTrackerLogo","debouncedValue","setDebouncedValue","debounceId","setTimeout","clearTimeout","MarkerImage","CustomMarker","latitude","longitude","imageUrl","Marker","cardBackground","Text","CustomPopup","selectedBank","onClose","_selectedBank$locatio","location","lat","lng","address","currencySupport","Popup","closeButton","closeOnClick","join","filterBanksByCurrencySelector","createSelector","state","banks","selectedCurrency","filter","bank","includes","mapConfig","top","left","right","bottom","fixedCoordinates","markerImages","spin","keyframes","LoaderWrapper","Loader","SearchContainer","wrapperBackground","m","MapWrapper","_templateObject6","_templateObject7","initialZoom","mapStyle","bearing","pitch","padding","fixedLatitude","fixedLongitude","BanksMap","_Component","_this","_classCallCheck","_len","arguments","length","args","Array","_key","concat","_defineProperty","viewport","zoom","userLocation","searchRadius","_this$state","fetchBanksThunk","radius","_this$state$userLocat","setState","prevState","_objectSpread","setSelectedCurrency","bankId","find","id","_event$viewState","viewState","_inherits","_createClass","key","_componentDidMount","_asyncToGenerator","_regeneratorRuntime","_callee","_this2","_context","prev","next","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","coords","sent","this","fetchBanks","centerMapOnUser","t0","stop","apply","prevProps","_this3","_this$state2","_this$props","isLoading","handleCurrencyChange","ReactMapGL","mapboxAccessToken","API_CONFIG","MAPBOX_TOKEN","onMove","handleViewportChange","_ref$location","handleMarkerClick","closePopup","Component","mapDispatchToProps","connect","BankCard"],"sourceRoot":""}